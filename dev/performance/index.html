<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Achieve performance · SkeelBerzins.jl</title><meta name="title" content="Achieve performance · SkeelBerzins.jl"/><meta property="og:title" content="Achieve performance · SkeelBerzins.jl"/><meta property="twitter:title" content="Achieve performance · SkeelBerzins.jl"/><meta name="description" content="Documentation for SkeelBerzins.jl."/><meta property="og:description" content="Documentation for SkeelBerzins.jl."/><meta property="twitter:description" content="Documentation for SkeelBerzins.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">SkeelBerzins.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../problem_definition/">Problem Definition</a></li><li><a class="tocitem" href="../solvers/">Solvers</a></li><li class="is-active"><a class="tocitem" href>Achieve performance</a><ul class="internal"><li><a class="tocitem" href="#Using-StaticArrays.jl"><span>Using StaticArrays.jl</span></a></li><li><a class="tocitem" href="#Example"><span>Example</span></a></li></ul></li><li><a class="tocitem" href="../public_private_APIs/">Public and Private APIs</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../module_examples/Example101_LinearDiffusion/">101:  Linear Diffusion</a></li><li><a class="tocitem" href="../module_examples/Example102_NonlinearDiffusion/">102:  Nonlinear Diffusion</a></li><li><a class="tocitem" href="../module_examples/Example103_LinearDiffusionCylindrical/">103:  Linear Diffusion Cylindrical</a></li><li><a class="tocitem" href="../module_examples/Example104_Poisson/">104:  Poisson</a></li><li><a class="tocitem" href="../module_examples/Example105_StationaryNonLinearDiffusion/">105:  Stationary Non Linear Diffusion</a></li><li><a class="tocitem" href="../module_examples/Example106_SystemReactionDiffusion/">106:  System Reaction Diffusion</a></li><li><a class="tocitem" href="../module_examples/Example107_LinearDiffusionSpherical/">107:  Linear Diffusion Spherical</a></li><li><a class="tocitem" href="../module_examples/Example201_PartialDerivativeApprox/">201:  Partial Derivative Approx</a></li><li><a class="tocitem" href="../module_examples/Example301_PDEOptimSciMLSensitivity/">301: PDE Optim SciML Sensitivity</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual</a></li><li class="is-active"><a href>Achieve performance</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Achieve performance</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/gregoirepourtier/SkeelBerzins.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/gregoirepourtier/SkeelBerzins.jl" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Achieve-Performance"><a class="docs-heading-anchor" href="#Achieve-Performance">Achieve Performance</a><a id="Achieve-Performance-1"></a><a class="docs-heading-anchor-permalink" href="#Achieve-Performance" title="Permalink"></a></h1><h2 id="Using-StaticArrays.jl"><a class="docs-heading-anchor" href="#Using-StaticArrays.jl">Using StaticArrays.jl</a><a id="Using-StaticArrays.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Using-StaticArrays.jl" title="Permalink"></a></h2><p>One way to improve the performance of the package when solving system of PDEs, is to use the <a href="https://github.com/JuliaArrays/StaticArrays.jl">StaticArrays.jl</a> package to define the PDE formulation.</p><p>This package allows you to use arrays that are stored on the stack rather than on the heap, which  eliminates the need for memory allocation when defining and evaluating the problem. In contrast, when using arrays to define the problem, it creates heap-allocations for every interval  where the function is evaluated.</p><h2 id="Example"><a class="docs-heading-anchor" href="#Example">Example</a><a id="Example-1"></a><a class="docs-heading-anchor-permalink" href="#Example" title="Permalink"></a></h2><pre><code class="nohighlight hljs">using SkeelBerzins

# Define symmetry of the problem
m = 0

# Define PDE Formulation
function pdefunction(x,t,u,dudx)
    c = SVector(1,1)
    f = SVector(0.5,0.1) .* dudx
    y = u[1] - u[2]
    s = SVector(-y, y)

    c,f,s
end

# Define the initial condition
function icfunction(x)
    u0 = SVector(0.0, 0.0)
    
    u0
end

# Define the boundary condtions
function bdfunction(xl,ul,xr,ur,t)
    pl = SVector(ul[1]-1.0, 0)
    ql = SVector(0, 1)
    pr = SVector(0, ur[2])
    qr = SVector(1, 0)

    pl,ql,pr,qr
end

# Define the spatial discretization
xmesh = collect(range(0,1,length=21))

# Define the time interval
tspan = (0,10)

# Define Keyword Arguments
params = SkeelBerzins.Params(tstep=1e-2)

# Solve
sol = pdepe(m,pdefunction,icfunction,bdfunction,xmesh,tspan ; params=params)</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../solvers/">« Solvers</a><a class="docs-footer-nextpage" href="../public_private_APIs/">Public and Private APIs »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.2.0 on <span class="colophon-date" title="Friday 1 December 2023 12:51">Friday 1 December 2023</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
